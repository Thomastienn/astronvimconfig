{

        "diff": {
            "prefix": ["diff"],
            "body": [
                "#!/bin/bash",
				"",
				"MAIN=\"{{MAIN}}\"",
				"BRUTE=\"{{BRUTE}}\"",
				"GEN=\"{{GEN}}\"",
				"",
				"mkdir -p build",
				"",
				"compile() {",
				"    [[ \"$1\" == *.cpp ]] && g++ -O2 -o \"build/$(basename \"${1%.cpp}\")\" \"$1\"",
				"}",
				"",
				"run() {",
				"    case \"$1\" in",
				"        *.cpp) \"build/$(basename \"${1%.cpp}\")\" ;;",
				"        *.py)  python3 \"$1\" ;;",
				"    esac",
				"}",
				"",
				"for f in \"$MAIN\" \"$BRUTE\" \"$GEN\"; do",
				"    [[ -f \"$f\" ]] || { echo \"Error: $f not found\"; exit 1; }",
				"done",
				"",
				"compile \"$MAIN\"",
				"compile \"$BRUTE\"",
				"",
				"i=1",
				"while true; do",
				"    printf \"\\rTest %d\" \"$i\"",
				"    python3 \"$GEN\" > /tmp/in.txt || { echo -e \"\\nGenerator failed\"; exit 1; }",
				"    run \"$MAIN\" < /tmp/in.txt > /tmp/main.txt 2>/tmp/err.txt || { echo -e \"\\nMain crashed\"; cat /tmp/in.txt; cat /tmp/err.txt; exit 1; }",
				"    run \"$BRUTE\" < /tmp/in.txt > /tmp/brute.txt || { echo -e \"\\nBrute crashed\"; exit 1; }",
				"    diff -q /tmp/main.txt /tmp/brute.txt > /dev/null || { echo -e \"\\n=== MISMATCH test $i ===\\n--- IN ---\"; cat /tmp/in.txt; echo \"--- MAIN ---\"; cat /tmp/main.txt; echo \"--- BRUTE ---\"; cat /tmp/brute.txt; exit 1; }",
				"    ((i++))",
				"done"

            ],
            "description": "Desciption"
        }
    
}
